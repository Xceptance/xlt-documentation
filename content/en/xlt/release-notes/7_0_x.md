---
title: 7.0.x
linkTitle: 7.0.x

weight: 74
type: docs

date: 2023-05-10

description: >
    Faster report generation, enhanced load test report, HtmlUnit 3

sitemap:
  changefreq: never
  priority: 0.1
---

## XLT 7.0.0

See [here](https://github.com/Xceptance/XLT/milestone/18?closed=1) for a complete list of all changes.

### Overview

Version 7 is a major release of XLT. It comes with many new features, but also some incompatible changes. See below what's in the box!


#### Report Generator

The XLT report generator has been tuned heavily with respect to CPU and memory usage. 
More is done in parallel now using all available CPU cores more efficently.
Care has been taken to not copy strings needlessly, thus avoiding a lot of object creations on the heap and hence garbage collection times. 
Futhermore, certain functionality not needed for report generation has been offloaded to the test suite.
As a result, report creation is often twice as fast as before.

For this to be possible, XLT's `Data` classes had to be reworked, especially `RequestData`. See the section Test Suite Migration below.


There are other changes in the report generator.
The number of dictinct URLs for a request with the same name is now estimated only, instead of being exact. This saves a lot of heap space during report generation, while the error is acceptable.

Load test results containing huge numbers of different events could make the report generator go out of memory. 
The number of events to appear in the report can now be limited by the report generator. It is possible to 

Note that XLT does no longer support creating reports from results that have been created with XLT < x.x.x.



#### Test Reports

##### Technical Basis

The technical basis of the reports has been updated. 
This does not only include an update of the 3rd-party JavaScript libraries, but the reports make much more use of modern CSS now (and less of JavaScript). You will need a current browser to view the reports.

The charts are now stored as lossless WEBP images. The image sizes are often only a third compared with PNG. This helps saving disk space and improving the download times when viewing the report.

Last but not least, chart images are loaded lazily so even huge report pages with thousands of charts load faster now and will become interactable earlier.


##### Design

The report design has been refreshed gently.
You will notice the page header which is now sticky. 

The design is much more responsive on different devices.
On wider screens, the font size gets a bit larger so reading the data tables is easier to the eye.
On smaller screens, especially on mobile devices, the navigation turns into a hamburger menu. 


The chart sections with the overview charts have been moved to the top of their pages. This way, they are immediatley visible without having to scroll past the data table which can get lengthy at times. 


##### Additional Content

The load and performance test report has been extended to show additional details. 

On the *Network* page, there are now two new sections. 
The section *HTTP Request Methods* provides some insight which HTTP request methods have been used during the test and how often. 

The section *IP Addresses* lists the IP addresses that have been contacted during the test and how often.
This data is useful only if the host name of the system under test resolves to multiple IP addresses. 
This is typically the case when the system under test is behind a CDN. 
Use this information to learn if the distribution of traffic to these multiple target addresses during the test was uniform.

The **Events** page now shows how many events of a certain type have been dropped during the creation fo the report.

The **Agents** page has got a tab section with overview charts. Similar to transactions, actions, and requests, these charts contain the data of *all* agents and can be used to get an idea of the general behavior of the agents. 


#### Framework

HtmlUnit, a browser emulation for Java, is the heart of XLT. It has been updated to 3.x. Since there are ...

Almost all other 3rd-party libraries have been updated to their latest version available, for example, Selenium. 

The latest Selenium does no longer support the "legacy" mode of `FirefoxDriver`,so we had to removed that from XLT as well.

XLT provides extensions for Chrome and Firefox to record request and response details when testing with these browsers instead of HtmlUnit's browser emulation. The extension for Chrome has been updated to be compatible with Chrome Manifest v3, which will be enforced in the near future.


#### Load Testing

The XLT load test agent running on the load machines tries to be smart and searches for Java class and JAR files at certain locations within the uploaded test suite. The agent now knows new locations typical for Kotlin-based test suites that use Gradle as the build tool.   

Timestamps recorded by XLT are either based on the local time of an agent or on the Mastercontroller time as a reference time. With XLT 7, the new default is the Mastercontroller time.  

XLT comes with an error limiter that can reduce the amount of result browsers written to disk for errors that have already occurred. Use this feature to significantly save disk space. This error limiter is now active by default.


#### XLT Distribution Archive

The XLT distribution archive xlt-7.0.0.zip is a bit leaner now as we don't ship the XLT JavaDocs any longer. Please visit our [Web site](https://lab.xceptance.de/releases/xlt/latest/apidoc/) for the latest version of the JavaDocs. 


#### XLT Images

XLT images are now based on Debian 11.x ("bullseye"). They come with the latest JDK 11 and are tuned for load testing. For real-browser load tests, they also contain the latest Chromium and Firefox ESR browsers with matching web drivers `chromedriver` and `geckodriver`.

Xceptance provides ready-to-use public images for AWS only. 
If you are looking for XLT images for other clouds, have a look at XLT's sister project [XLT Packer](https://github.com/Xceptance/XLT-Packer/).
This project does not only contain scripts to install and set up the contents of an XLT image, but also provides templates to actually create such images for these clouds:

* AWS
* DigitalOcean
* Google
* Hetzner

There is also a Docker image variant. 

Follow the instructions to create an XLT image for one of the supported clouds yourself.


### Test Suite Migration

As outlined above, XLT 7.x comes with breaking changes. In order to migrate your test suites, you will need to perform the following steps.

#### Fix Compile Errors

##### HtmlUnit 3

The name of the HtmlUnit root package has changed. Since the rest of the package structure remains as before, migration is straightforward: Simply replace `com.gargoylesoftware.htmlunit` with the new name `org.htmlunit` via a global search/replace over all Java source files in your IDE.

There is a semantical change when dealing with the value of `<input>` elements. HU now clearly separates between the internal value of an input element and the `value` attribute in the HTML source code. 
Previously, we had `getValueAttribute()`/`setValueAttribute()`, but now there are also `getValue()`/`setValue()`.


in the `getValueAttribute()`/`setValueAttribute()` methods of , i.e. `HtmlInput` and their subclasses.
Typically, you will now need to call `getValue()`/`setValue()` instead of `getValueAttribute()`/`setValueAttribute()`. 
Only if you really intend to change the value attribute in the DOM tree, call the latter methods.
Review your code carefully and use the correct methods.

More migration details can be found [here](https://www.htmlunit.org/migration.html). 


##### XLT Framework


* Data classes
    * set start time
    * set runtime
    * many getters return XltCharBuffer instead -> call toString to get the string value


#### Review Configuration

XLT 7 changes the default value of some properties. The 

* The Master Controller time on by default
* The error limiter properties have got new nameson by default
        * check if needed 
        * adjust the default limits

Please check if the new defaults are suitable for you and adjust the values as needed.


#### Test Your Scenarios

Now it's time to check if everything works as expected. Start by running the test scenarios from your IDE. They should run and finish with the expected results. Make sure the usual debug console output is visible as well. Use this opportunity to fine-tune the dev mode logger configuration if needed.

After that, perform a small load test. Check the results and verify the output in all log files.


### Report Configuration Migration



* adjust event dropper settings
* ...?







### AWS AMI Retirement Notice

Xceptance provides machine images for Amazon's Elastic Compute Cloud with XLT installed and configured for use as load agents. As part of our regular clean-up process, we will **retire AWS AMIs older than XLT version 6.2.x on September, 1st 2023**. If you need an older version, please build your own AMI (see [here](https://github.com/Xceptance/XLT-Packer) for more details) or copy the respective AMI to your own AMI registry in time.

As a notice for the future: Xceptance will not guarantee that provided AMIs (and, in the future, Docker images or images for other cloud providers) are available forever. We strongly encourage you to migrate to the most recent version frequently. If you need a particular setup maintained for a longer period of time, please talk to Xceptance and consider a support contract.

